<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Binary classification: Spam Detection for Text Messages
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Library for the FSharp friendly usage of the ML.NET project. For documentation visit: <https://csbiology.github.io/FSharpML/>" />
    <meta name="author" content="Timo Mï¿½hlhaus, Kevin Schneider, Heinrich Lukas Weil, David Zimmer, F# open source contributors" />

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet" />
    <meta http-equiv="X-UA-Compatible" content="IE=11">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link type="text/css" rel="stylesheet" href="https://CSBiology.github.io/FSharpML//content/style.css" /> <!--https://CSBiology.github.io/FSharpML/-->
    <link type="text/css" rel="stylesheet" href="https://CSBiology.github.io/FSharpML//style/CSBstyle.css" /> <!--https://CSBiology.github.io/FSharpML/-->
    <script type="text/javascript" src="https://CSBiology.github.io/FSharpML//content/tips.js"></script> <!--https://CSBiology.github.io/FSharpML/-->
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
</head>
<body>
    <div class="container">
        <div class="masthead">
            <ul class="nav nav-pills pull-right">
                <li><a href="http://fsharp.org">fsharp.org</a></li>
                <li><a href="https://github.com/CSBiology/FSharpML">github page</a></li>
            </ul>
            <h3 class="muted"><a href="https://CSBiology.github.io/FSharpML//index.html">BioFSharp</a></h3>
        </div>
        <hr />
        <div class="row">
            <div class="span9" id="main">
                <h1><a name="Binary-classification-Spam-Detection-for-Text-Messages" class="anchor" href="#Binary-classification-Spam-Detection-for-Text-Messages">Binary classification: Spam Detection for Text Messages</a></h1>
<table>
<thead>
<tr class="header">
<th><p>ML.NET version</p></th>
<th><p>API type</p></th>
<th><p>Status</p></th>
<th><p>App Type</p></th>
<th><p>Data type</p></th>
<th><p>Scenario</p></th>
<th><p>ML Task</p></th>
<th><p>Algorithms</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>v1.40</p></td>
<td><p>Dynamic API</p></td>
<td><p>Up-to-date</p></td>
<td><p>Console app</p></td>
<td><p>.tsv files</p></td>
<td><p>Spam detection</p></td>
<td><p>Two-class classification</p></td>
<td><p>SDCA (linear learner)</p></td>
</tr>
</tbody>
</table>

<p>In this sample, you'll see how to use FSharpML on top of <a href="https://www.microsoft.com/net/learn/apps/machine-learning-and-ai/ml-dotnet">ML.NET</a> to predict whether a text message is spam. In the world of machine learning, this type of prediction is known as <strong>binary classification</strong>.</p>
<h2><a name="Problem" class="anchor" href="#Problem">Problem</a></h2>
<p>Our goal here is to predict whether a text message is spam (an irrelevant/unwanted message). We will use the <a href="https://archive.ics.uci.edu/ml/datasets/SMS+Spam+Collection">SMS Spam Collection Data Set</a> from UCI, which contains close to 6000 messages that have been classified as being "spam" or "ham" (not spam). We will use this dataset to train a model that can take in new message and predict whether they are spam or not.</p>
<p>This is an example of binary classification, as we are classifying the text messages into one of two categories.</p>
<h2><a name="Solution" class="anchor" href="#Solution">Solution</a></h2>
<p>To solve this problem, first we will build an estimator to define the ML pipeline we want to use. Then we will train this estimator on existing data, evaluate how good it is, and lastly we'll consume the model to predict whether a few examples messages are spam.</p>
<p><img src="../shared_content/modelpipeline.png" alt="Build -&gt; Train -&gt; Evaluate -&gt; Consume" /></p>
<ol>
<li>
Build and train the model
----------------------------
</li>
</ol>
<p>FSharpML containing two complementary parts named EstimatorModel and TransformerModel covering the full machine lerarning workflow. In order to build an ML model and fit it to the training data we use EstimatorModel.
The 'fit' function in EstimatorModel applied on training data results into the TransformerModel that represents the trained model able to transform other data of the same shape and is used int the second part to evaluate and consume the model.</p>
<p>To build the estimator we will:</p>
<ul>
<li><p>Define how to read the spam dataset that will be downloaded from <a href="https://archive.ics.uci.edu/ml/datasets/SMS+Spam+Collection.">https://archive.ics.uci.edu/ml/datasets/SMS+Spam+Collection.</a></p></li>
<li>
<p>Apply several data transformations:</p>
<ul>
<li>Convert the label ("spam" or "ham") to a boolean ("true" represents spam) so we can use it with a binary classifier.</li>
<li>Featurize the text message into a numeric vector so a machine learning trainer can use it</li>
</ul>
</li>
<li><p>Add a trainer (such as <code>StochasticDualCoordinateAscent</code>).</p></li>
</ul>
<p>*</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#load</span> <span class="s">&quot;../../FSharpML.fsx&quot;</span>


<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">System</span><span class="pn">;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="id">Microsoft</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">ML</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="id">Microsoft</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="id">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="id">Data</span><span class="pn">;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="id">FSharpML</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 10)" onmouseover="showTip(event, 'fs7', 10)" class="id">FSharpML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs8', 11)" onmouseover="showTip(event, 'fs8', 11)" class="id">EstimatorModel</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 12)" onmouseover="showTip(event, 'fs7', 12)" class="id">FSharpML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="id">TransformerModel</span>


<span class="c">/// Type representing the Message to run analysis on.</span>
<span class="pn">[&lt;</span><span class="id">CLIMutable</span><span class="pn">&gt;]</span> 
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="rt">SpamInput</span> <span class="o">=</span> 
    <span class="pn">{</span> 
        <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="rt">LoadColumn</span><span class="pn">(</span><span class="n">0</span><span class="pn">)</span><span class="pn">&gt;]</span> <span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="id">LabelText</span> <span class="pn">:</span> <span class="id">string</span>
        <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="rt">LoadColumn</span><span class="pn">(</span><span class="n">1</span><span class="pn">)</span><span class="pn">&gt;]</span> <span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="id">Message</span> <span class="pn">:</span> <span class="id">string</span> 
    <span class="pn">}</span>




<span class="c">//Create the MLContext to share across components for deterministic results</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 19)" onmouseover="showTip(event, 'fs14', 19)" class="id">mlContext</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 20)" onmouseover="showTip(event, 'fs15', 20)" class="rt">MLContext</span><span class="pn">(</span><span class="id">seed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 21)" onmouseover="showTip(event, 'fs16', 21)" class="vt">Nullable</span> <span class="n">1</span><span class="pn">)</span> <span class="c">// Seed set to any number so you</span>
                                             <span class="c">// have a deterministic environment</span>

<span class="c">// STEP 1: Common data loading configuration   </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 22)" onmouseover="showTip(event, 'fs17', 22)" class="id">fullData</span> <span class="o">=</span> 
    <span class="k">__SOURCE_DIRECTORY__</span>  <span class="o">+</span> <span class="s">&quot;./data/SMSSpamCollection.txt&quot;</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs18', 23)" onmouseover="showTip(event, 'fs18', 23)" class="m">DataModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 24)" onmouseover="showTip(event, 'fs19', 24)" class="id">fromTextFileWith</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs10', 25)" onmouseover="showTip(event, 'fs10', 25)" class="rt">SpamInput</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs14', 26)" onmouseover="showTip(event, 'fs14', 26)" class="id">mlContext</span> <span class="s">&#39;\t&#39;</span> <span class="k">false</span> 

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 27)" onmouseover="showTip(event, 'fs20', 27)" class="id">trainingData</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 28)" onmouseover="showTip(event, 'fs21', 28)" class="id">testingData</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs17', 29)" onmouseover="showTip(event, 'fs17', 29)" class="id">fullData</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs18', 30)" onmouseover="showTip(event, 'fs18', 30)" class="m">DataModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 31)" onmouseover="showTip(event, 'fs22', 31)" class="id">trainTestSplit</span> <span class="n">0.1</span> 


<span class="c">//STEP 2: Process data, create and train the model </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs23', 32)" onmouseover="showTip(event, 'fs23', 32)" class="id">model</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs24', 33)" onmouseover="showTip(event, 'fs24', 33)" class="m">EstimatorModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 34)" onmouseover="showTip(event, 'fs25', 34)" class="id">create</span> <span onmouseout="hideTip(event, 'fs14', 35)" onmouseover="showTip(event, 'fs14', 35)" class="id">mlContext</span>
    <span class="c">// Process data transformations in pipeline</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 36)" onmouseover="showTip(event, 'fs24', 36)" class="m">EstimatorModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 37)" onmouseover="showTip(event, 'fs26', 37)" class="id">appendBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs27', 38)" onmouseover="showTip(event, 'fs27', 38)" class="id">mlc</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs27', 39)" onmouseover="showTip(event, 'fs27', 39)" class="fn">mlc</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 40)" onmouseover="showTip(event, 'fs28', 40)" class="id">Transforms</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 41)" onmouseover="showTip(event, 'fs29', 41)" class="id">Conversion</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 42)" onmouseover="showTip(event, 'fs30', 42)" class="id">MapValue</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 43)" onmouseover="showTip(event, 'fs31', 43)" class="m">DefaultColumnNames</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 44)" onmouseover="showTip(event, 'fs32', 44)" class="id">Label</span><span class="pn">,</span> <span class="id">dict</span> <span class="pn">[</span><span class="s">&quot;ham&quot;</span><span class="pn">,</span> <span class="k">false</span><span class="pn">;</span> <span class="s">&quot;spam&quot;</span><span class="pn">,</span> <span class="k">true</span><span class="pn">]</span><span class="pn">,</span> <span class="s">&quot;LabelText&quot;</span><span class="pn">)</span> <span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 45)" onmouseover="showTip(event, 'fs24', 45)" class="m">EstimatorModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 46)" onmouseover="showTip(event, 'fs26', 46)" class="id">appendBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs27', 47)" onmouseover="showTip(event, 'fs27', 47)" class="id">mlc</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs27', 48)" onmouseover="showTip(event, 'fs27', 48)" class="fn">mlc</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 49)" onmouseover="showTip(event, 'fs28', 49)" class="id">Transforms</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 50)" onmouseover="showTip(event, 'fs33', 50)" class="id">Text</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 51)" onmouseover="showTip(event, 'fs34', 51)" class="id">FeaturizeText</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 52)" onmouseover="showTip(event, 'fs31', 52)" class="m">DefaultColumnNames</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 53)" onmouseover="showTip(event, 'fs35', 53)" class="id">Features</span><span class="pn">,</span> <span class="s">&quot;Message&quot;</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 54)" onmouseover="showTip(event, 'fs24', 54)" class="m">EstimatorModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 55)" onmouseover="showTip(event, 'fs36', 55)" class="id">appendCacheCheckpoint</span>
    <span class="c">// Create the model</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 56)" onmouseover="showTip(event, 'fs24', 56)" class="m">EstimatorModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 57)" onmouseover="showTip(event, 'fs26', 57)" class="id">appendBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs27', 58)" onmouseover="showTip(event, 'fs27', 58)" class="id">mlc</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs27', 59)" onmouseover="showTip(event, 'fs27', 59)" class="fn">mlc</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs37', 60)" onmouseover="showTip(event, 'fs37', 60)" class="id">BinaryClassification</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 61)" onmouseover="showTip(event, 'fs38', 61)" class="id">Trainers</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 62)" onmouseover="showTip(event, 'fs39', 62)" class="id">SdcaLogisticRegression</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 63)" onmouseover="showTip(event, 'fs31', 63)" class="m">DefaultColumnNames</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 64)" onmouseover="showTip(event, 'fs32', 64)" class="id">Label</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs31', 65)" onmouseover="showTip(event, 'fs31', 65)" class="m">DefaultColumnNames</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 66)" onmouseover="showTip(event, 'fs35', 66)" class="id">Features</span><span class="pn">)</span><span class="pn">)</span>
    <span class="c">// Train the model</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 67)" onmouseover="showTip(event, 'fs24', 67)" class="m">EstimatorModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs40', 68)" onmouseover="showTip(event, 'fs40', 68)" class="id">fit</span> <span onmouseout="hideTip(event, 'fs20', 69)" onmouseover="showTip(event, 'fs20', 69)" class="id">trainingData</span><span class="pn">.</span><span class="id">Dataview</span>

<span class="c">// STEP3: Run the prediciton on the test data</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 70)" onmouseover="showTip(event, 'fs41', 70)" class="id">predictions</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs23', 71)" onmouseover="showTip(event, 'fs23', 71)" class="id">model</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs42', 72)" onmouseover="showTip(event, 'fs42', 72)" class="m">TransformerModel</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs43', 73)" onmouseover="showTip(event, 'fs43', 73)" class="id">transform</span> <span onmouseout="hideTip(event, 'fs21', 74)" onmouseover="showTip(event, 'fs21', 74)" class="id">testingData</span><span class="pn">.</span><span class="id">Dataview</span>
</code></pre></td>
</tr>
</table>
<ol>
<li>
Evaluate and consume the model
---------------------------------
</li>
</ol>
<p>TransformerModel is used to evaluate the model and make prediction on independant data.</p>
<p>*</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// STEP4: Evaluate accuracy of the model</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 75)" onmouseover="showTip(event, 'fs44', 75)" class="id">metrics</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs23', 76)" onmouseover="showTip(event, 'fs23', 76)" class="id">model</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 77)" onmouseover="showTip(event, 'fs45', 77)" class="m">Evaluation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 78)" onmouseover="showTip(event, 'fs46', 78)" class="m">BinaryClassification</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 79)" onmouseover="showTip(event, 'fs47', 79)" class="id">evaluate</span> <span onmouseout="hideTip(event, 'fs48', 80)" onmouseover="showTip(event, 'fs48', 80)" class="id">testingData</span><span class="pn">.</span><span class="id">Dataview</span>

<span onmouseout="hideTip(event, 'fs44', 81)" onmouseover="showTip(event, 'fs44', 81)" class="id">metrics</span><span class="pn">.</span><span class="id">Accuracy</span>





<span class="c">//// STEP5: Create prediction engine function related to the loaded trained model</span>
<span class="c">//let predict = </span>
<span class="c">//    TransformerModel.createPredictionEngine&lt;_,SpamInput,SpamInput&gt; model</span>

<span class="c">//// Score</span>
<span class="c">//let prediction = predict sampleStatement</span>

<span class="c">//// Test a few examples</span>
<span class="c">//[</span>
<span class="c">//    &quot;That&#39;s a great idea. It should work.&quot;</span>
<span class="c">//    &quot;free medicine winner! congratulations&quot;</span>
<span class="c">//    &quot;Yes we should meet over the weekend!&quot;</span>
<span class="c">//    &quot;you win pills and free entry vouchers&quot;</span>
<span class="c">//] </span>
<span class="c">//|&gt; List.iter (classify predictor)</span>
</code></pre></td>
</tr>
</table>

<div class="tip" id="fs1">namespace FSharp</div>
<div class="tip" id="fs2">namespace FSharp.Plotly</div>
<div class="tip" id="fs3">namespace System</div>
<div class="tip" id="fs4">namespace Microsoft</div>
<div class="tip" id="fs5">namespace Microsoft.ML</div>
<div class="tip" id="fs6">namespace Microsoft.ML.Data</div>
<div class="tip" id="fs7">module FSharpML</div>
<div class="tip" id="fs8">namespace FSharpML.EstimatorModel</div>
<div class="tip" id="fs9">namespace FSharpML.TransformerModel</div>
<div class="tip" id="fs10">type SpamInput =<br />&#160;&#160;{ LabelText: obj<br />&#160;&#160;&#160;&#160;Message: obj }<br /><em><br /><br />&#160;Type representing the Message to run analysis on.</em></div>
<div class="tip" id="fs11">Multiple items<br />type LoadColumnAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : fieldIndex:int -&gt; LoadColumnAttribute + 2 overloads<br /><br />--------------------<br />LoadColumnAttribute(fieldIndex: Microsoft.FSharp.Core.int) : LoadColumnAttribute<br />LoadColumnAttribute(columnIndexes: Microsoft.FSharp.Core.int Microsoft.FSharp.Core.[]) : LoadColumnAttribute<br />LoadColumnAttribute(start: Microsoft.FSharp.Core.int, end: Microsoft.FSharp.Core.int) : LoadColumnAttribute</div>
<div class="tip" id="fs12">SpamInput.LabelText: Microsoft.FSharp.Core.obj</div>
<div class="tip" id="fs13">SpamInput.Message: Microsoft.FSharp.Core.obj</div>
<div class="tip" id="fs14">val mlContext : MLContext</div>
<div class="tip" id="fs15">Multiple items<br />type MLContext =<br />&#160;&#160;new : ?seed:Nullable&lt;int&gt; -&gt; MLContext<br />&#160;&#160;member AnomalyDetection : AnomalyDetectionCatalog<br />&#160;&#160;member BinaryClassification : BinaryClassificationCatalog<br />&#160;&#160;member Clustering : ClusteringCatalog<br />&#160;&#160;member ComponentCatalog : ComponentCatalog<br />&#160;&#160;member Data : DataOperationsCatalog<br />&#160;&#160;member Forecasting : ForecastingCatalog<br />&#160;&#160;member Model : ModelOperationsCatalog<br />&#160;&#160;member MulticlassClassification : MulticlassClassificationCatalog<br />&#160;&#160;member Ranking : RankingCatalog<br />&#160;&#160;...<br /><br />--------------------<br />MLContext(?seed: Nullable&lt;Microsoft.FSharp.Core.int&gt;) : MLContext</div>
<div class="tip" id="fs16">Multiple items<br />type Nullable =<br />&#160;&#160;static member Compare&lt;&#39;T&gt; : n1:Nullable&lt;&#39;T&gt; * n2:Nullable&lt;&#39;T&gt; -&gt; int<br />&#160;&#160;static member Equals&lt;&#39;T&gt; : n1:Nullable&lt;&#39;T&gt; * n2:Nullable&lt;&#39;T&gt; -&gt; bool<br />&#160;&#160;static member GetUnderlyingType : nullableType:Type -&gt; Type<br /><br />--------------------<br />type Nullable&lt;&#39;T (requires default constructor and value type and &#39;T :&gt; ValueType)&gt; =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : value:&#39;T -&gt; Nullable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member Equals : other:obj -&gt; bool<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member GetValueOrDefault : unit -&gt; &#39;T + 1 overload<br />&#160;&#160;&#160;&#160;member HasValue : bool<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;&#160;&#160;member Value : &#39;T<br />&#160;&#160;end<br /><br />--------------------<br />Nullable ()<br />Nullable(value: &#39;T) : Nullable&lt;&#39;T&gt;</div>
<div class="tip" id="fs17">val fullData : Microsoft.FSharp.Core.obj</div>
<div class="tip" id="fs18">module DataModel<br /><br />from FSharpML</div>
<div class="tip" id="fs19">val fromTextFileWith&lt;&#39;Trow&gt; : mlc:MLContext -&gt; separatorChar:Microsoft.FSharp.Core.char -&gt; hasHeader:Microsoft.FSharp.Core.bool -&gt; path:Microsoft.FSharp.Core.string -&gt; DataModel.DataModel&lt;Microsoft.FSharp.Core.obj&gt;</div>
<div class="tip" id="fs20">val trainingData : Microsoft.FSharp.Core.obj</div>
<div class="tip" id="fs21">val testingData : &#39;a</div>
<div class="tip" id="fs22">val trainTestSplit : testfraction:Microsoft.FSharp.Core.float -&gt; dataModel:DataModel.DataModel&lt;&#39;a&gt; -&gt; DataModel.DataModel&lt;DataModel.TrainTestSplitInfo&gt; * DataModel.DataModel&lt;DataModel.TrainTestSplitInfo&gt;</div>
<div class="tip" id="fs23">val model : &#39;_arg3 (requires member ( |&gt; ) and member ( |&gt; ) and &#39;a :&gt; ITransformer and reference type and &#39;c :&gt; ITransformer and reference type)</div>
<div class="tip" id="fs24">Multiple items<br />module EstimatorModel<br /><br />from FSharpML.EstimatorModel<br /><br />--------------------<br />namespace FSharpML.EstimatorModel<br /><br />--------------------<br />type EstimatorModel&lt;&#39;a (requires &#39;a :&gt; ITransformer and reference type)&gt; =<br />&#160;&#160;{ EstimatorChain: EstimatorChain&lt;&#39;a&gt;<br />&#160;&#160;&#160;&#160;Context: MLContext }</div>
<div class="tip" id="fs25">val create : mlContext:MLContext -&gt; EstimatorModel&lt;&#39;a&gt; (requires reference type and &#39;a :&gt; ITransformer)</div>
<div class="tip" id="fs26">val appendBy : transforming:(MLContext -&gt; #IEstimator&lt;&#39;c&gt;) -&gt; estimatorModel:EstimatorModel&lt;&#39;d&gt; -&gt; EstimatorModel&lt;&#39;c&gt; (requires &#39;c :&gt; ITransformer and reference type and &#39;d :&gt; ITransformer and reference type)</div>
<div class="tip" id="fs27">val mlc : MLContext</div>
<div class="tip" id="fs28">property MLContext.Transforms: TransformsCatalog with get</div>
<div class="tip" id="fs29">property TransformsCatalog.Conversion: TransformsCatalog.ConversionTransforms with get</div>
<div class="tip" id="fs30">(extension) TransformsCatalog.ConversionTransforms.MapValue&lt;&#39;TInputType,&#39;TOutputType&gt;(outputColumnName: Microsoft.FSharp.Core.string, keyValuePairs: Collections.Generic.IEnumerable&lt;Collections.Generic.KeyValuePair&lt;&#39;TInputType,&#39;TOutputType Microsoft.FSharp.Core.[]&gt;&gt;,?inputColumnName: Microsoft.FSharp.Core.string) : Transforms.ValueMappingEstimator&lt;&#39;TInputType,&#39;TOutputType&gt;<br />(extension) TransformsCatalog.ConversionTransforms.MapValue&lt;&#39;TInputType,&#39;TOutputType&gt;(outputColumnName: Microsoft.FSharp.Core.string, keyValuePairs: Collections.Generic.IEnumerable&lt;Collections.Generic.KeyValuePair&lt;&#39;TInputType,&#39;TOutputType&gt;&gt;,?inputColumnName: Microsoft.FSharp.Core.string,?treatValuesAsKeyType: Microsoft.FSharp.Core.bool) : Transforms.ValueMappingEstimator&lt;&#39;TInputType,&#39;TOutputType&gt;<br />(extension) TransformsCatalog.ConversionTransforms.MapValue(outputColumnName: Microsoft.FSharp.Core.string, lookupMap: IDataView, keyColumn: DataViewSchema.Column, valueColumn: DataViewSchema.Column,?inputColumnName: Microsoft.FSharp.Core.string) : Transforms.ValueMappingEstimator</div>
<div class="tip" id="fs31">module DefaultColumnNames<br /><br />from FSharpML</div>
<div class="tip" id="fs32">val Label : Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs33">property TransformsCatalog.Text: TransformsCatalog.TextTransforms with get</div>
<div class="tip" id="fs34">(extension) TransformsCatalog.TextTransforms.FeaturizeText(outputColumnName: Microsoft.FSharp.Core.string,?inputColumnName: Microsoft.FSharp.Core.string) : Transforms.Text.TextFeaturizingEstimator<br />(extension) TransformsCatalog.TextTransforms.FeaturizeText(outputColumnName: Microsoft.FSharp.Core.string, options: Transforms.Text.TextFeaturizingEstimator.Options, [&lt;ParamArray&gt;] inputColumnNames: Microsoft.FSharp.Core.string Microsoft.FSharp.Core.[]) : Transforms.Text.TextFeaturizingEstimator</div>
<div class="tip" id="fs35">val Features : Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs36">val appendCacheCheckpoint : estimatorModel:EstimatorModel&lt;&#39;a&gt; -&gt; EstimatorModel&lt;&#39;a&gt; (requires &#39;a :&gt; ITransformer and reference type)</div>
<div class="tip" id="fs37">property MLContext.BinaryClassification: BinaryClassificationCatalog with get</div>
<div class="tip" id="fs38">property BinaryClassificationCatalog.Trainers: BinaryClassificationCatalog.BinaryClassificationTrainers with get</div>
<div class="tip" id="fs39">(extension) BinaryClassificationCatalog.BinaryClassificationTrainers.SdcaLogisticRegression(options: Trainers.SdcaLogisticRegressionBinaryTrainer.Options) : Trainers.SdcaLogisticRegressionBinaryTrainer<br />(extension) BinaryClassificationCatalog.BinaryClassificationTrainers.SdcaLogisticRegression(?labelColumnName: Microsoft.FSharp.Core.string,?featureColumnName: Microsoft.FSharp.Core.string,?exampleWeightColumnName: Microsoft.FSharp.Core.string,?l2Regularization: Nullable&lt;Microsoft.FSharp.Core.float32&gt;,?l1Regularization: Nullable&lt;Microsoft.FSharp.Core.float32&gt;,?maximumNumberOfIterations: Nullable&lt;Microsoft.FSharp.Core.int&gt;) : Trainers.SdcaLogisticRegressionBinaryTrainer</div>
<div class="tip" id="fs40">val fit : data:IDataView -&gt; estimatorModel:EstimatorModel&lt;&#39;a&gt; -&gt; TransformerModel&lt;&#39;a&gt; (requires &#39;a :&gt; ITransformer and reference type)</div>
<div class="tip" id="fs41">val predictions : &#39;_arg3</div>
<div class="tip" id="fs42">Multiple items<br />module TransformerModel<br /><br />from FSharpML.TransformerModel<br /><br />--------------------<br />namespace FSharpML.TransformerModel<br /><br />--------------------<br />type TransformerModel&lt;&#39;a (requires &#39;a :&gt; ITransformer and reference type)&gt; =<br />&#160;&#160;{ TransformerChain: TransformerChain&lt;&#39;a&gt;<br />&#160;&#160;&#160;&#160;Context: MLContext }</div>
<div class="tip" id="fs43">val transform : data:IDataView -&gt; transformerModel:TransformerModel&lt;&#39;b&gt; -&gt; IDataView (requires &#39;b :&gt; ITransformer and reference type)</div>
<div class="tip" id="fs44">val metrics : &#39;_arg3</div>
<div class="tip" id="fs45">module Evaluation<br /><br />from FSharpML.TransformerModel</div>
<div class="tip" id="fs46">Multiple items<br />module BinaryClassification<br /><br />from FSharpML.TransformerModel.Evaluation<br /><br />--------------------<br />type BinaryClassification =<br />&#160;&#160;static member evaluateNonCalibratedWith : ?Label:string * ?Score:string * ?PredictedLabel:string -&gt; (IDataView -&gt; TransformerModel&lt;&#39;a0&gt; -&gt; BinaryClassificationMetrics) (requires &#39;a0 :&gt; ITransformer and reference type)<br />&#160;&#160;static member evaluateWith : ?Label:string * ?Score:string * ?Probability:string * ?PredictedLabel:string -&gt; (IDataView -&gt; TransformerModel&lt;&#39;a0&gt; -&gt; CalibratedBinaryClassificationMetrics) (requires &#39;a0 :&gt; ITransformer and reference type)</div>
<div class="tip" id="fs47">val evaluate : data:IDataView -&gt; transformerModel:TransformerModel&lt;&#39;a&gt; -&gt; CalibratedBinaryClassificationMetrics (requires &#39;a :&gt; ITransformer and reference type)</div>
<div class="tip" id="fs48">val testingData : &#39;a Microsoft.FSharp.Core.[]</div>

            </div>
            <div class="span3">
                <img src="https://CSBiology.github.io/FSharpML//img/logo.png" alt="F# Project" style="width:150px;margin:10px" />
                <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
                    <li class="nav-header">BioFSharp</li>
                    <li><a href="https://CSBiology.github.io/FSharpML//index.html">Home page</a></li>
                    <li class="divider"></li>
                    <li><a href="https://CSBiology.github.io/FSharpML//release-notes.html">Release Notes</a></li>

                    <li class="nav-header">Samples</li>
                    <li><a href="https://CSBiology.github.io/FSharpML//BinaryClass_SentimentAnalysis.html">Binary classification: sentiment analysis</a></li>
                    <li><a href="https://CSBiology.github.io/FSharpML//BinaryClass_SpamDetection.html">Binary classification: spam detection</a></li>


                    <li><a href="https://CSBiology.github.io/FSharpML//Regression_PricePrediction.html">Regression: price prediction</a></li>


                    <li><a href="https://CSBiology.github.io/FSharpML//Clustering_IrisFlowers.html">Clustering: iris flowers</a></li>

                    <li class="nav-header">Documentation</li>
                    <li><a href="https://CSBiology.github.io/FSharpML//reference/index.html">API Reference</a></li>


                </ul>
            </div>
        </div>
    </div>
    <a href="https://github.com/CSBiology/FSharpML"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub" /></a>
</body>
</html>